{% extends 'base.html.twig' %}

{% block title %}Votre panier{% endblock %}

{% block body %}

<h1 class="text-center">Votre panier</h1>

{% if items %}
<table class="table table-striped">
<thead>
<tr>
<th>Produit</th>
<th>Prix</th>
<th>Quantité</th>
<th>Total</th>
<th class= "text-center">Supprimer</th>
</tr>
</thead>
<tfoot>
<tr>
<th colspan="3" class="text-end">Total</th>
<th colspan="2">{{ total }} €</th>
</tr>
</tfoot>
<tbody>
{% for item in items %}
    <tr>
    <td><img src="{{ asset("img/upload/" ~ item.product.photo) }}" alt="" width="50"></td>
    <td>{{ item.product.prix }} €</td>
    <td>
    <a href="{{ path('cart_remove', {id: item.product.id}) }}" class=""><i class="bi bi-dash-circle"></i></a>
    {{ item.quantity }}
    <a href="{{ path('cart_add_gestion', {id: item.product.id}) }}" class=""><i class="bi bi-plus-circle"></i></a>
    </td>
    <td>{{ item.product.prix * item.quantity }} €</td>
    <td class= "text-center">
    
    
    <a href="{{ path('cart_delete', {id: item.product.id}) }}" class="text-danger"><i class="bi bi-cart-x-fill"></i></a>
    </td>
    </tr>
{% endfor %}
</tbody>
</table>
<a href="{{ path('app_order') }}" class="btn btn-primary">Valider mon panier</a>

{% else %}
<h2 class="text-center mt-5">Votre panier est vide !</h2>
{% endif %}


{% endblock %}
